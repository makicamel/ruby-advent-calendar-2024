ALL=<<ALL.gsub(' ', '0').gsub('x', '1')
11                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                11
11  00000xxx0000  1111  00xxxxxxx000  1111  0000xxxxx000  1111  0000xxxxx000  1111  000xxxxxxx00  1111  00000xxx0000  1111  00xxxxxxxxx0  1111  000xxxxxx000  1111  000xxxxxx000  1111  0xxx00xxxxx0  1111  00xxx00xxx00  1111  0xxx00xxxxx0  1111  0xxx00xxxxx0  1111  0xxx000xxxx0  1111  0xxx0xxxxxx0  1111  0xxx000xxx00  1111  0xxx0xxxxxx0  1111  0xxx00xxxxx0  1111  0xxx00xxxxx0  1111  0xxxx000xxx0  1111  00xxxx00xxx0  1111  0xxx000xxx00  1111  0xxx000xxxx0  1111  0xxxx0000xxx  1111  0xxxx00xxxxx  11
1   000xxxxx0000   11   0xxx00xxxx00   11   000x000xxx00   11   00xx00xxx000   11   000xxx000000   11   000xxx000000   11   000x0000xxx0   11   00xx000xxx00   11   00xx000xxx00   11   0xxx0xx000xx   11   00xxx00xxx00   11   0xxx0x000xxx   11   0xxx0x000xxx   11   0xxx0xx00xx0   11   0xxx0xxx0000   11   0xxx00xx0000   11   0xxx0x00xxx0   11   0xxx0xx00xxx   11   0xxx0xx00xxx   11   x000xx0xx0xx   11   0x000xx0xxx0   11   x000xx000xx0   11   x000xx000xxx   11   x000xx0xx0xx   11   x000xx0xxx00   1
1   00xx0xxx0000   11   00000xxxx000   11   000000xxx000   11   0xxx00xxx000   11   000xxxxxx000   11   00xxxxxxx000   11   0000000xx000   11   00xxxxxxxx00   11   000xxxxxxx00   11   0xxx0xx000xx   11   00xxx00xxx00   11   0xxx0000xxx0   11   0xxx0000xxx0   11   0xxx0xx00xx0   11   0xxx0xxxxx00   11   0xxx0xxxxxx0   11   0xxx000xx000   11   0xxx0xxxxxxx   11   0xxx00xxxxxx   11   000xx00xx0xx   11   0000xx00xxx0   11   000xx000xx00   11   000xx000xxx0   11   000xx00xx0xx   11   000xx00xxxx0   1
1   00000xxx0000   11   000xxx000000   11   000x000xxx00   11   0xxxxxxxxxx0   11   00000000xxx0   11   00xx000xxx00   11   00000xxx0000   11   00xx000xxx00   11   0000000xx000   11   0xxx0xx000xx   11   00xxx00xxx00   11   0xxx00xxx000   11   0xxx0x000xxx   11   0xxx0xxxxxx0   11   0xxx0000xxx0   11   0xxx0xx00xxx   11   0xxx00xx0000   11   0xxx0xx00xxx   11   0xxx0000xxx0   11   0xx0000xx0xx   11   00xx0000xxx0   11   0xxx00xxx000   11   0xxx00000xxx   11   0xx0000xxxxx   11   0xx0000000xx   1
11  00000xxx0000  1111  0xxxxxxxxx00  1111  0000xxxxx000  1111  000000xxx000  1111  000xxxxxx000  1111  000xxxxxx000  1111  00000xxx0000  1111  000xxxxxx000  1111  00000xxx0000  1111  0xxx00xxxxx0  1111  00xxx00xxx00  1111  0xxx0xxxxxxx  1111  0xxx00xxxxx0  1111  0xxx00000xx0  1111  0xxx0xxxxx00  1111  0xxx00xxxxx0  1111  0xxx00xx0000  1111  0xxx00xxxxx0  1111  0xxx00xxx000  1111  xxxxxx00xxx0  1111  0xxxxxx0xxx0  1111  xxxxx0xxxxx0  1111  xxxxxx0xxxx0  1111  xxxxxx0000xx  1111  xxxxxx0xxxx0  11
11                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                11
ALL
EMPTY=<<EMPTY.gsub(' ', '0')
11                11
11  000000000000  11
1   000000000000   1
1   000000000000   1
1   000000000000   1
11  000000000000  11
11                11
EMPTY
RUBY=<<RUBY.gsub(' ', '0').gsub('*', '1')
11                11
11  000******000  11
1   ************   1
1   0**********0   1
1   000******000   1
11  00000**00000  11
11                11
RUBY
MESSAGE=<<ABDEHMNPRSUWXY.gsub(' ', '0')
11                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                11
11  000001110000  1111  011111111000  1111  001110000000  1111  011111111100  1111  011110011110  1111  001110001111  1111  011100000111  1111  011111111100  1111  111111111000  1111  001111110000  1111  111100000111  1111  111000001111  1111  111100001110  1111  011100000111  11
1   000011111000   11   001111001110   11   010001000000   11   001111000000   11   001110011100   11   011111011111   11   011110001111   11   001110001111   11   011100011110   11   011110000000   11   111000000111   11   111000001110   11   011110011100   11   001110001110   1
1   000110011100   11   001111111000   11   011110000110   11   001111110000   11   001111111100   11   011111111111   11   011111101110   11   001110001111   11   011111111100   11   001111111000   11   111000000111   11   011011101110   11   000111111000   11   000111111000   1
1   001111111110   11   001110001110   11   100001111000   11   001110000000   11   001110011100   11   111001110111   11   111011111110   11   001111111100   11   011100111000   11   000000111100   11   111100001111   11   011111111100   11   001110111100   11   000011100000   1
11  011100001111  1111  011111111000  1111  011111011100  1111  011111111100  1111  011100011110  1111  110000000111  1111  111000111100  1111  001100000000  1111  111100011111  1111  001111111000  1111  001111111100  1111  001110011100  1111  111000001111  1111  111110000000  11
11                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                1111                11
ABDEHMNPRSUWXY
VERSION=<<VERSION.gsub(' ','1')
11111111111111111111111111111111110000000000011111111111111111111111111
11111111111111111111111111111100000011110000000111111111111111111111111
11111111111111111111111111111100001111111100000011111111111111111111111
11111111111111111111111111111111111111111100000011111111111111111111111
11111111111111111111111111111111111111110000000011111111111111111111111
11111111111111111111111111111111111100000000001111111111111111111111111
11111111111111111111111111111111111111000000111111111111111111111111111
11111111111111111111111111111111111111100000011111111111110001111111111
11111111111111111111111100001111111111000000011111111111100001111111111
11111111111111111111111100000001111100000000011111111111000011111000111
11111111111111111111111111000000000000000001111111111100000111110000011
11111111111111111111111111111100000000001111110011110000001111100000011
11111111111111111111111111111111111111111111111111000000011111000000111
11111111111111111111111111111111111111111111111100000000000000000000000
11111111111111111111111111111111111111111111111111111111111100000011111
11111111111111111111111111111111111111111111111111111111110000000111111
11111111111111111111111111111111111111111111111111111111000000011111111
11111111111111111111111111111111111111111111111111111100000001111111111
11111111111111111111111111111111111111111111111111110000000111111111111
11111111111111111111111111111111111111111111111110000001111111111111111
VERSION

# 10進数表記に変更する
n = MESSAGE.lines(chomp:true).join.reverse.to_i(2)
# 36進数表記に変更する
puts "エンコード"
puts %("#{n.to_s(36)}".to_i(36)) # 36 進数表記


data = [
  {
    name: 'ruby',
    str: 'zxawe6ulllbzbitv05hen15efpf',
    row: 7,
    length: 20*1,
  },
  {
    name: 'empty',
    str: 'zxawe2sxt34pwaake6gy8xaamtf',
    row: 7,
    length: 20*1,
  },
  {
    name: 'message_line',
    str: '14vobdzknjscg8aoavlla26eelye8bty961sars90kqq6xiy9ucz6no9atsq0elyfpeyi93bi6qieumgiizjhr1nuxyhkmc1ysguknebrl39bsd564haz9bq42x0m5lvli1mw4v63an9q529y6fuhoccgm17a9xyhqquzvvkwj5zn886f4pq3nqn610zqcb0lx0f9mkdm1t9sr1kfeyoriq3p1c1k39k0vrvcni0gu0mgt2ozf43ri980cqp2dlqtg1rfcfsiclyu1jrbsd2qg1ab1rvk3kcy37wac6ay5viwofyyt6hbb7rmv2t1x106k3t7er9qaq1edye0j02i7uzsl823eifwboecff4fq1homfb1n84gcbj4kjn',
    row: 7,
    length: 20*14,
  },
  {
    name: 'all',
    str: 'q9xki158dgt0uld7lz61hc9o9k8tuz3j76bwzvzxf4tymb7va8ge9ex4u7xmeyfyh4q3s32pdd23cxdl558i8euhk7ms5j7f8h8cy6gaax0hqu6t6c8hmurd0cajqm283ut710hsu1qqpqmjbr2ee4mbzlt339y07xww803894b9fvnr72gncfuk6mmmlbafh9cogahqr4l5o7npmctzmhskn3a8mlg66vgcaqti9a8gxqgx6myo3og42hfybescjz6dxk8j6qjwiix0epxt5my2m32zcrybj3zmq63glc329mi7gs1gyjlcsibvss1hk6qhgb65a3wd6e04435brfgt9vairod3f9x9xcvq9lppyzlxzp2nwzfy1kq1vuu2uye6fn0gqdy6zboc335mv3co76ayj7n67i31wgfea95soez3rnu34b1c7psq0da694w729e1oinrog6a7vni4iugwd9k20uu3idufe1sl6t7llwacayo2niip6thrb18m62pdf3hgagg6sas2vf8z48otv1tr0o7f82guefzwwtcca1pjcq6rawlbh2gwy9li4jsph2wmxpw3be9yt67ne6qo806bkd4uzf6lq67ms1rh6kg2wi2v7nne7hurcavezxrox9el434byizyot2wc686puar8sqcz6kj',
    row: 7,
    length: 20*25,
  },
  {
    name: 'version',
    str: 'auuf6egu8vvhq0jqtscht6uwcr4s1vmtvjauqj6homnikg3cbzh03yguh9yr0lwlxx7ila0v7mq88uqhhglxobempy1vq96iplehgm9m1yyz7wtf0t4i2gtl66bskgprdyp7ubuijwla1odr9zgcfkbxx8v2hzor0o029ex38c4mcf616k81h7imyr26k33ktpb06e3t6xo85gn292m6kelefz72e64eweovluv6xuuozaztvbgmb7196goyyo0kcpypvrpngs2zgx5fegv',
    row: 20,
    length: 70,
  }
]


data.each { |hash|
  line = (0...hash[:row]).map { |y|
    (0..hash[:length]-1).map { |x|
      hash[:str].to_i(36)[x+y*hash[:length]]
    }.join.slice(/.{#{hash[:length]}}/)
  }
  puts line
}

